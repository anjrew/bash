
BASHPATH=/Users/earyzhe/dev/bash

function create-page {
  read -r -p 'Page name: ' pagename
  PAGEDIRECTORY="$(pwd)/$pagename"

  mkdir "$PAGEDIRECTORY"
  cd "$PAGEDIRECTORY"
  create-files
}

function create-files {
  touch style.css
  CURRENTPATH="$(pwd)";
  cp "$BASHPATH/index.html" "$CURRENTPATH/index.html"
  cp "$BASHPATH/script.js" "$CURRENTPATH/script.js"
}

function show-help {
  echo  "Functions";

  echo  " - mkpg";
  echo  " - creates a directory file for a webpage with html,css and js files";

  echo  " - mkfls";
  echo  " - creates html, css and js files within the current directory";
  
  echo  " - deploy";
  echo  " - Adds commits and pushs to the remote origin";

  echo  " - edit";
  echo  " - opens the web bash file to edit it";
}

function git-deploy {
    read -r -p 'Commit message: ' desc
    git -C $BASHPATH add .
    git -C $BASHPATH add -u
    git -C $BASHPATH commit -m "$desc"
    git -C $BASHPATH push origin HEAD:master
}

function edit-file {
    code $BASHPATH
}

if [ $1 = mkpg ]
then
    create-page
elif [ $1 = mkfls ]
then
    create-files
elif [ $1 = help ]
then
    show-help
elif [ $1 = deploy ]
then
    git-deploy
elif [ $1 = edit ]
then
    edit-file
else
    echo "Unknown command"
fi
